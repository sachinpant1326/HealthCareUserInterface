
<div class="mt-3 ml-3 mr-3 row heading">
    <div class="mt-1 mb-1 col-lg-12 col-md-12">
    <span><h4 class="text-center">Add Test to {{diagnosticCenter.name}}</h4></span>
</div>
</div>
<div class="container">
    <div class="row">
        <div class="offset-lg-1 offset-md-1 col-lg-10 col-md-10 availabletests">
            <div class="card mt-2">
                <div class="card-header text-center font-weight-bold">
                    Available Tests at {{diagnosticCenter.name}}
                </div>
                <div class="card-header text-center font-weight-bold">
                    <div class="row">
                        <p class="col-lg-2 col-md-2">Test ID</p>
                        <p class="offset-lg-1 offset-md-1 col-lg-3 col-md-3">Test Name</p>
                        <p class="offset-lg-1 offset-md-1 col-lg-3 col-md-3">Normal Value</p>
                    </div>
                </div>
                <div class="card-block">
                    <div class="row " *ngFor="let test of diagnosticTestOfCenter">
                        <p class="offset-lg-1 offset-md-1 col-lg-2 col-md-2">{{test.id}}</p>
                        <p class="offset-lg-1 offset-md-1 col-lg-3 col-md-3">{{test.testName}}</p>
                        <p class="offset-lg-1 offset-md-1 col-lg-3 col-md-3">{{test.normalValue}}&nbsp;{{test.units}}</p>
                    </div>
                </div>
                </div>
        </div>
    </div>
    <div class="mt-5 row offset-lg-3 offset-md-3 col-lg-6 col-md-6 select">
        <div class="offset-lg-2 offset-md-2">
        <form [formGroup]="addTestForm" class="mt-3 mb-3" (ngSubmit)="addTestToDC()">
            <div class="form-group row">
                <label for="selectTest" class="col-lg-5 col-md-5">Select Test : </label>
                <select class="custom-select" class="col-lg-7 col-md-7"  (change)="changeTest($event)"  formControlName="selectTest">
                    <option value="">Select Test</option>
                    <option *ngFor="let test of allDiagnosticTest" [value]="test.id">{{test.testName}}</option>
                  </select>
                <div *ngIf="submitted && addTestForm.controls.selectTest.errors" class="text-danger offset-lg-4 offset-md-4">
                    <div *ngIf="addTestForm.controls.selectTest.errors.required">
                       Select Test....
                    </div>
                </div>
            </div>
            <div *ngIf="isTestSelected">
                <div class="row">
                    <p>Test Name : {{selectedTest.testName}}</p>
                </div>
                <div class="row">
                    <p>Test Price : {{selectedTest.testPrice}}</p>
                </div>
                <div class="row">
                    <p>Normal Value : {{selectedTest.normalValue}}&nbsp;{{selectedTest.units}}</p>
                </div>
            </div>
            <div class="form-group row">
                <button class="btn btn-success offset-lg-2 offset-md-2">Add Test</button>
            </div>
            </form>

    </div>
</div>
</div>